!function(){function a(a){for(var b=1;b<arguments.length;b++)for(var c in arguments[b])a[c]=arguments[b][c];return a}function b(a,b){var c="/"===a.substr(-1)?a.substring(0,a.length-1):a,d="/"===b.substr(0,1)?b.substring(1):b;return c+"/"+d}var c=window.UserServerApi||(window.UserServerApi={}),d={languageCookie:"wixLanguage",helperCookie:"wixClient",mainCookie:"wixSession",languages:{en:"en",es:"es",pt:"pt",fr:"fr",ru:"ru",de:"de",pl:"pl",it:"it",ja:"ja",ko:"ko"},usersDomain:"https://users.wix.com/wix-users",jsonpEnabled:!0,urlParams:{source:"",suid:"",orgDocID:"null-doc-id",appUrl:window.location.href,urlThatUserRedirectedFrom:window.location.href}},e={login:{method:"GET",url:"/auth/login"},loginByGuid:{method:"GET",url:"/auth/loginByGuid"},socialLogin:{method:"GET",url:"/social/login/{providerId}",pathVariables:["providerId"]},getSocialConnections:{method:"GET",url:"/social/connection"},createSocialConnection:{method:"POST",url:"/social/connection/{providerId}",pathVariables:["providerId"]},revokeSocialConnection:{method:"DELETE",url:"/social/connection/{providerId}",pathVariables:["providerId"]},createUser:{method:"GET",url:"/auth/register"},forgotPassword:{method:"GET",url:"/auth/forgotPassword"},getUserDetails:{method:"GET",url:"/user/getUserDetails"},updateUser:{method:"GET",url:"/user/update"},setLanguage:{method:"GET",url:"/user/setLanguage"}};a(c,{setOptions:function(b){return b&&(b=a({},b),a(d.urlParams,b.urlParams||{}),delete b.urlParams,a(d,b)),c},getOptions:function(){return d},userAction:function(a,f,g,h){var i=b(d.usersDomain,e[a].url);if(e[a].pathVariables)for(var j=0;j<e[a].pathVariables.length;j++)i=i.replace("{"+e[a].pathVariables[j]+"}",f[e[a].pathVariables[j]]),delete f[e[a].pathVariables[j]];c.comm.sendRequest(e[a].method,i,f,g,h)},getClientParams:function(){var a=c.cookies.getCookie(d.helperCookie);if(a){var b=a.split("|");return{userName:b[0],email:b[1],mailStatus:b[2],permissions:b[3],isSessionNew:b[4],isSessionValid:b[5],userID:b[6]}}return null},getUserLanguage:function(){var a=window.location.host.split("."),b=2===a[0].length?a[0]:null;return b=b||c.cookies.getCookie(d.languageCookie),b=b||navigator.language||navigator.browserLanguage,d.languages[b]||"en"},login:function(a,b,d,e,f){c.userAction("login",{email:a,password:b,rememberMe:d,enhanced:0},e,f)},socialLogin:function(b,d,e,f){c.userAction("socialLogin",a({providerId:b},d),e,f)},getSocialConnections:function(a,b){c.userAction("getSocialConnections",null,a,b)},createSocialConnection:function(b,d,e,f){c.userAction("createSocialConnection",a({providerId:b},d),e,f)},revokeSocialConnection:function(a,b,d){c.userAction("revokeSocialConnection",{providerId:a},b,d)},loginByGuid:function(a,b,d,e,f){c.userAction("loginByGuid",{guid:a,password:b,rememberMe:d,enhanced:0},e,f)},createUser:function(a,b,d,e,f){var g={email:a,password:b};g.sendEmail=f&&f.sendEmail===!1?"false":"true",c.userAction("createUser",g,d,e)},forgotPassword:function(a,b,d){c.userAction("forgotPassword",{email:a},b,d)},setLanguage:function(a,b,e){d.urlParams.language=a,c.userAction("setLanguage",null,b,e)},getUserDetails:function(a,b){c.userAction("getUserDetails",null,a,b)},updateUser:function(a,b,d,e,f,g,h){var i={newUserName:b,newEmail:e,optInMail:f,newPassword:d,password:a};c.userAction("updateUser",i,g,h)},getToken:function(){return c.cookies.getCookie(d.mainCookie)},isSessionValid:function(){return c.getClientParams()&&c.getToken()},logout:function(){c.cookies.deleteCookie(d.mainCookie),c.cookies.deleteCookie(d.helperCookie)}})}(),function(){var a=window.UserServerApi||(window.UserServerApi={});a.cookies=a.cookies||{},a.cookies.setCookie=function(a,b,c,d,e,f){window[a]=b;var g=a+"="+b;g+=c?";expires="+new Date((new Date).getTime()+c).toGMTString():"",g+=";path="+(e||"/"),g+=d?";domain="+d:"",g+=f?";secure":"",document.cookie=g},a.cookies.getCookie=function(a){if(window[a])return window[a];for(var b=document.cookie.split(/;\s*/),c=0;c<b.length;c++)if(0===b[c].indexOf(a+"="))return b[c].substr(a.length+1);return null},a.cookies.deleteCookie=function(a){var b=window.location.host;b=b.substring(b.indexOf(".")+1),this.setCookie(a,"",-864e5,b,"/")}}(),function(){function a(a){for(var b=1;b<arguments.length;b++)for(var c in arguments[b])a[c]=arguments[b][c];return a}function b(a,b,c,e){var f="_"+(d.comm.jsonpCallbacks.counter++).toString(36),g=function(){clearTimeout(k),delete d.comm.jsonpCallbacks[f],document.getElementsByTagName("head")[0].removeChild(j)},h=function(a,b){g(),e(b)},i=function(){g(),c()};b+="&accept=jsonp",b+="&callback=UserServerApi.comm.jsonpCallbacks."+f,b+="&callerId="+f,b+="get"===a.toLowerCase()?"":"&_method="+a.toLowerCase();var j=document.createElement("script");j.type="text/javascript",j.src=b,j.onerror=i,document.getElementsByTagName("head")[0].appendChild(j);var k=setTimeout(i,6e4);d.comm.jsonpCallbacks[f]=h}function c(a,b,c,d){var e=new XMLHttpRequest;e.open(a,b+"&accept=json",!0),e.withCredentials=!0,e.onerror=e.ontimeout=e.onabort=function(){c(e)},e.onload=function(){if(e.responseText)try{var a=JSON.parse?JSON.parse:eval,b=a(e.responseText);return d(b),void 0}catch(f){}c(e)},e.send()}var d=window.UserServerApi||(window.UserServerApi={});d.comm=d.comm||{},d.comm.sendRequest=function(e,f,g,h,i){var j=[];d.getOptions().urlParams.language||(d.getOptions().urlParams.language=d.getUserLanguage()),g=a({},d.getOptions().urlParams,g);for(var k in g)(g[k]||"boolean"==typeof g[k])&&j.push(encodeURIComponent(k)+"="+encodeURIComponent(g[k]));f+=j.length?"?"+j.join("&"):"",d.getOptions().jsonpEnabled?b(e,f,h,i):c(e,f,h,i)},d.comm.jsonpCallbacks={counter:0}}();